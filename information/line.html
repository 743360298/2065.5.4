
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>位置</title>
  <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
  <link href="../css/mui.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../css/head.css">
  <link rel="stylesheet" href="../css/animate.css">
  <link rel="stylesheet" href="../css/info1.css">
  <link rel="stylesheet" href="../css/PersonalInfo.css">
  <link rel="stylesheet" href="../css/line.css">
  <!-- <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" /> -->
  <script src="../js/jquery-1.12.2.js"></script>
  <script src="../js/public.js"></script>
  <script src="../js/title.js"></script>
  <link href="../js/picker/mui.picker.css" rel="stylesheet"/>
  <link href="../js/picker/mui.poppicker.css" rel="stylesheet"/>
  <style>
    body{
      background-color: #f7f7f7;
    }
    .mui-icon-back:before, .mui-icon-left-nav:before{
      color: #333 ;
    }
    .PersonalInfoList li a div img{
      width: 0.22rem ;
      height: 0.3rem ;
      margin-left: 0.2rem ;
    }
    .PersonalInfoList li a div span{
      margin-left: 0 ;
      white-space: nowrap; 
      font-size: 0.3rem ;
      color: #333; 
    }
    #completeBtn{
      font-size: 0.3rem ;
      /* color: #333 ; */
    }
    #location{
      white-space: normal;
      width: 50% ;
      display: flex;
    justify-content: flex-end;
    line-height: initial;
      /* margin-left: 0.2rem ; */
    }
    #header{
      border-bottom: 0.01rem solid #e9e9e9 ;
      z-index: 99999;
    }
    
    </style>
</head>
<body>
  <header id="header" class="mui-bar mui-bar-nav">
    <h1 class="mui-title">位置</h1>
    <a class=" mui-action-back mui-icon mui-pull-left " id="cancelBtn">取消</a>
    <button class="setBtn  mui-btn mui-btn-blue mui-btn-link mui-btn-nav mui-pull-right headImg2 " id="completeBtn">
       完成
    </button>
  </header>
  
  <div class="mui-content">


    <div class="searchBox">
        <div class="search">
          <input id="searchInput" type="text" value="">
          <div class="searchTxt">
            <img src="../images/mipmap-xhdpi/icon_search.png" alt="">
            <span>搜索</span>
          </div>
          <!-- <div id="searchBtn">
              <img src="../images/mipmap-xhdpi/icon_search.png" alt="">
          </div> -->
        </div>
    </div>

    <div class="map">
      
    <!-- 地图 -->
    <div class="control" v-cloak>
        <div id="container"></div>
        <!-- <div class="distance">
            <img src="../images/mipmap-xhdpi/icon_distance.png" alt="">
            <span>地图上的商家</span>
        </div> -->
        <script src="https://webapi.amap.com/maps?v=1.4.10&key=e21475127b4797b53b68350988df29cc "></script>
        <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
        <script>
          var map = map = new AMap.Map('container', {
              resizeEnable: true
          });
          
          // map.on("complete", function(){
          //    log.success("地图加载完成！");  
          // });
        </script>
    </div>
    <!-- <div class="map2">
        <div id="container"></div>
        <div class="info">
            <div class="input-item">
              <div class="input-item-prepend">
                <span class="input-item-text" style="width:8rem;">请输入关键字</span>
              </div>
              <input id='tipinput' type="text">
            </div>
        </div>

        <script src="https://webapi.amap.com/maps?v=1.4.10&key=e21475127b4797b53b68350988df29cc "></script>
        <script type="text/javascript" src="https://cache.amap.com/lbs/static/addToolbar.js"></script>
        <script type="text/javascript">
            var map = new AMap.Map("container", {
                resizeEnable: true
            });
            //输入提示
            var auto = new AMap.Autocomplete({
                input: "tipinput"
            });
        </script>
    </div> -->
    <!-- <a href="https://uri.amap.com/marker?position=经度,纬度&name=所在的位置名称">所在的位置名称</a> -->


    </div>

    <div class="addressBox">
      <!-- <ul class="addressList">
        <li><a href="javascript:;">
            <div>
                <span>广东省广州市天河区</span>
              </div>
              <img class="selectImg " src="../images/mipmap-xhdpi/select.png" alt="">
        </a></li>
        <li><a href="javascript:;">
          <div>
            <span>广州正佳</span>
            <span>广东省广州市天河区</span>
          </div>
          <img class="selectImg " src="../images/mipmap-xhdpi/select.png" alt="">
        </a></li>
        
        <li><a href="javascript:;">
              <div>
                <span>广州正佳</span>
                <span>广东省广州市天河区</span>
              </div>
              <img class="selectImg " src="../images/mipmap-xhdpi/select.png" alt="">
        </a></li>
      </ul> -->
      <div id="panel"></div>
      <script src="https://webapi.amap.com/maps?v=1.4.10&key=e21475127b4797b53b68350988df29cc "></script>
      <script type="text/javascript" src="https://cache.amap.com/lbs/static/addToolbar.js"></script>
      <script type="text/javascript">
        var map = new AMap.Map("container", {
            resizeEnable: true
        });
        AMap.service(["AMap.PlaceSearch"], function() {
            //构造地点查询类
            var placeSearch = new AMap.PlaceSearch({ 
                pageSize: 5, // 单页显示结果条数
                pageIndex: 1, // 页码
                // city: "020", // 兴趣点城市
                citylimit: true,  //是否强制限制在设置的城市内搜索
                map: map, // 展现结果的地图实例
                panel: "panel", // 结果列表将在此容器中进行展示。
                autoFitView: true // 是否自动调整地图视野使绘制的 Marker点都处于视口的可见范围
            });

            //关键字查询
            $('#completeBtn').on('click',function () {
              var Search = $("#searchInput").val();
              console.log(Search);
              placeSearch.search(Search);
            })
            // placeSearch.search('暨南大学');
 
           
            
        });
    </script>

    </div>


        
    
  </div>

<script src="../js/picker/mui.min.js"></script>
<script src="../js/picker/city.data-3.js"></script>
<script src="../js/picker/mui.poppicker.js"></script>
<script src="../js/picker/mui.picker.js"></script>


</body>
</html>
<script>
$('#searchInput').focus(function () {
  $('.searchTxt').hide()
  // $('#searchBtn').show()
})

$('#searchInput').blur(function () {
  $('.searchTxt').show()
  // $('#searchBtn').hide()
  if($("#searchInput").val().length>0){
    $('.searchTxt').hide()
    console.log('hide');
  }
})

$('.addressList li ').on('click',function () {
  console.log('111');
  $(this).siblings().children().children('.selectImg').removeClass('selectImg2')  
  $(this).children().children('.selectImg').toggleClass('selectImg2')  

})



</script>
